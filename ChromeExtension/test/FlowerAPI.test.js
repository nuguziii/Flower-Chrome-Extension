import MemoAPI from "../src/apis/FlowerAPI"
import chai, { expect } from "chai"
import FlowerAPI from "../src/apis/FlowerAPI";

const token = "eyJraWQiOiJuWE1ncjRUdXQwMXc4c0lFUkkxRFJZUmQ4bDBrcEhlc2IzVVBBVXhnTEk0PSIsImFsZyI6IlJTMjU2In0.eyJhdF9oYXNoIjoicVlicW5teVBpT05fWDB5OGJYU2I3ZyIsInN1YiI6IjhhYjQ4OTU0LTgyZmQtNDcyNS1iMDRhLWQzNTFkM2RhYzcwZSIsImNvZ25pdG86Z3JvdXBzIjpbImFwLW5vcnRoZWFzdC0yX3FKMkpMU2dyTV9GYWNlYm9vayJdLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuYXAtbm9ydGhlYXN0LTIuYW1hem9uYXdzLmNvbVwvYXAtbm9ydGhlYXN0LTJfcUoySkxTZ3JNIiwiY29nbml0bzp1c2VybmFtZSI6IkZhY2Vib29rXzIyOTM3Nzk0MjQwMzg0NzQiLCJub25jZSI6ImVOOGNaX3FycFhraGlWYWI2MnNnTFZuOW82b29VNDM5V19OUU9jYjZoOFNDUXMycFRQRTNCaVoxTUZWSlRvaE5JelhJMWhpOG9ITWNnY2dhdWh4aHMybWdIYzJ1TWpSNUlFcGdWbGpEbHM5T1M5WWtOcWFHRU4tcUVHbFRrNHN5WnBMX0hwV3Zva0pqQlUyVWgtRkRITGlzdE1HTGFZcnRVcktOZHpnenRqVSIsImF1ZCI6IjR0amE3ZzFrMTAyYWhlc2dpNzB0NjNpY3EzIiwiaWRlbnRpdGllcyI6W3sidXNlcklkIjoiMjI5Mzc3OTQyNDAzODQ3NCIsInByb3ZpZGVyTmFtZSI6IkZhY2Vib29rIiwicHJvdmlkZXJUeXBlIjoiRmFjZWJvb2siLCJpc3N1ZXIiOm51bGwsInByaW1hcnkiOiJ0cnVlIiwiZGF0ZUNyZWF0ZWQiOiIxNTYyODI3MDg0NjM0In1dLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTU3MjUxMzQyMiwiZXhwIjoxNTcyNTE3MDIyLCJpYXQiOjE1NzI1MTM0MjIsImVtYWlsIjoiYmh3MTk5NEBnbWFpbC5jb20ifQ.pLf4HMR7kmbTDUGLLvpPJ1brOU7VxElrIfymDak85rNu65OxOEQby6lNUqyxi1pr5minZLXb5bkLfJpmucE5bDIOAFu-_zJlOytdCAnQYB9sJbZ_0HSP0FNX7eN3j9IYR4iOTCxGPN6AP44KPTxswgEt9a-zwcf2Egw5DgxoD57M88ykMi6DDODVSMrmTE0pbghonRIBl_cCKOgc4PpjeQVD3s0dos-oz-xxEsqETfpvVSV48jQyyvBL8xG_n6T03HqCjYK4PPyjXpfnLSQ7XrCYZMWZyGM67H0yEX3Hwr_Xmf0ZnuXnp_cSCb0AznrmadUrlmAkNwAIoFpsjp-Agw";

describe("FlowerAPI Test ", function () {
    it("should check token valid", async function () {
        //given 
        const validToken = "eyJraWQiOiJuWE1ncjRUdXQwMXc4c0lFUkkxRFJZUmQ4bDBrcEhlc2IzVVBBVXhnTEk0PSIsImFsZyI6IlJTMjU2In0.eyJhdF9oYXNoIjoiQllXQ1lONjljRnFXdGVET0RjMWFHZyIsInN1YiI6IjE0NTM1OTNhLTI0ODctNDk5Ni1hOWVmLTUwY2Q1ZWU0OTVkMyIsImNvZ25pdG86Z3JvdXBzIjpbImFwLW5vcnRoZWFzdC0yX3FKMkpMU2dyTV9Hb29nbGUiXSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLW5vcnRoZWFzdC0yLmFtYXpvbmF3cy5jb21cL2FwLW5vcnRoZWFzdC0yX3FKMkpMU2dyTSIsImNvZ25pdG86dXNlcm5hbWUiOiJHb29nbGVfMTAzNTI4MzAzMDU3NTc0NzcxMjUyIiwibm9uY2UiOiJKVVA4NnNfSW91UUkxc2xMOEtCSlNIUVVnb0ZLcjZQVVN2bEpBZ3h5dFd0bE8tZ0N3QzZYelZxbjc0Q2I3UTBKbjJzRzQ5UzlrSlNpOWJVS3pZWEtBSHRrZVNLa1lGVFM3cjVmRGNRUTAzcmFYQmZBSE1CY28tRXYzS1FyOVZpZlAwbkhHdUFNeXMtNjJINUZMbEE1RUVrckwyOWhvTkFYbUpHWnJGM293R2MiLCJhdWQiOiI0dGphN2cxazEwMmFoZXNnaTcwdDYzaWNxMyIsImlkZW50aXRpZXMiOlt7InVzZXJJZCI6IjEwMzUyODMwMzA1NzU3NDc3MTI1MiIsInByb3ZpZGVyTmFtZSI6Ikdvb2dsZSIsInByb3ZpZGVyVHlwZSI6Ikdvb2dsZSIsImlzc3VlciI6bnVsbCwicHJpbWFyeSI6InRydWUiLCJkYXRlQ3JlYXRlZCI6IjE1NjUxMTI1ODMwNjUifV0sInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNTcyNjA4NTk3LCJleHAiOjE1NzI2MTIxOTcsImlhdCI6MTU3MjYwODU5NywiZW1haWwiOiJudWd1emlpaUBnbWFpbC5jb20ifQ.C7-L9Zyi7jUdrU0rMTR0lcrobDbHEzkJKdmBNOWAvFAnn7R8GTUZcchAJYINiywE1dNxrJgH4VFxuCUVaAIqG1mf7CsakX7kv41Sf_KA4M3TVSrSB_1sVQzx_4RR4F6XssOsXUvW7vKPVVg_mWO5UFovJ1B2lgNno8A2j74rAVhuzR8VPseBVYWn4mJMz4BAF05NP8ZSrjQYYB2ccWGoox0Qn0Tr_ye5XjhSbSaESlaCroAH5U1eLq22Tc5HlEeox2sJDQ-Wq60E4h8fcISwvLL-pjh-dQ78ZWFukrjjxNmyxUwyRj61JO2KxiUV_T_Y55twBwbHRd-QkM2TTbkJ5A";
        
        //when
        const response = await FlowerAPI.checkTokenValid(validToken);

        //then
        expect(response).to.equal(true);

    });

    it("should check token invalid", async function () {
        //given 
        const invalidToken = "eyJraWQiOiJuWE1ncjRUdXQwMXc4c0lFUkkxRFJZUmQ4bDBrcEhlc2IzVVBBVXhnTEk0PSIsImFsZyI6IlJTMjU2In0.eyJhdF9oYXNoIjoiU3lkYWx3QUotQk16QmlTTVBKQ1hIdyIsInN1YiI6IjE0NTM1OTNhLTI0ODctNDk5Ni1hOWVmLTUwY2Q1ZWU0OTVkMyIsImNvZ25pdG86Z3JvdXBzIjpbImFwLW5vcnRoZWFzdC0yX3FKMkpMU2dyTV9Hb29nbGUiXSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLW5vcnRoZWFzdC0yLmFtYXpvbmF3cy5jb21cL2FwLW5vcnRoZWFzdC0yX3FKMkpMU2dyTSIsImNvZ25pdG86dXNlcm5hbWUiOiJHb29nbGVfMTAzNTI4MzAzMDU3NTc0NzcxMjUyIiwibm9uY2UiOiJDMUpNNkhRV3QzVEVHM3hVQndDOGlCVDE2R09vNm9DM2M5SHVzcDVZajVJcmhUMUxkcU5NMUtHRjNNMkR6Z2E2VENSWmFxTzQyVGdfa0xLeFlTM2hpT1ZEZDNhQ3BIWE5MZWIwLUJWSTNkVml0M0NYdDVoWEdacnVudlcxR3lMVnA5aGw5Y1EyQ2t6NGpiY2tNT1Fjc0FpZC1qR3lzQnF1MHVGajZSWGFoNk0iLCJhdWQiOiI0dGphN2cxazEwMmFoZXNnaTcwdDYzaWNxMyIsImlkZW50aXRpZXMiOlt7InVzZXJJZCI6IjEwMzUyODMwMzA1NzU3NDc3MTI1MiIsInByb3ZpZGVyTmFtZSI6Ikdvb2dsZSIsInByb3ZpZGVyVHlwZSI6Ikdvb2dsZSIsImlzc3VlciI6bnVsbCwicHJpbWFyeSI6InRydWUiLCJkYXRlQ3JlYXRlZCI6IjE1NjUxMTI1ODMwNjUifV0sInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNTcyNjg0MTgzLCJleHAiOjE1NzI2ODc3ODMsImlhdCI6MTU3MjY4NDE4MywiZW1haWwiOiJudWd1emlpaUBnbWFpbC5jb20ifQ.Y0-g3p9okxZZoJid8bJnE3Cc5JpIxlvvxjrqOrxHSLV72smyHu4cbYp8EZQvCjCBIUexNu-jIWwnKvc598SYzxvwRj5pEsaAYMkY7rmct5goTJ9VDmPYKro5zJecVNT-_Z9ctZ98IjunImS1Ur0hy86Jiu5x9GOncLWy12N7gxc7dM7tlOtZ-BU6u6qSJkL30O17D8lqtye53V10kHM5req0SiuWCc1YsnSTcLOKn07T9jJDKYGWy-3nPvdEqjPVT273giJgUbtswPEE34RKQwucl62D4P13_YubR-0OGar4K7BFEmpPJvBgDI1DS2JUkinYGv39ZrjAiW5-sgnYEg";
        
        //when
        const response = await FlowerAPI.checkTokenValid(invalidToken);

        //then
        expect(response).to.equal(false);

    });
});
